(this["webpackJsonpfrontend-challenge"]=this["webpackJsonpfrontend-challenge"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(9),r=n.n(a),s=(n(14),n(8)),o=n(2),u=n(0),d=function(){return Object(u.jsx)("div",{id:"Like",children:Object(u.jsx)("svg",{width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"M20 36.7L17.1 34.06C6.8 24.72 0 18.56 0 11C0 4.84 4.84 0 11 0C14.48 0 17.82 1.62 20 4.18C22.18 1.62 25.52 0 29 0C35.16 0 40 4.84 40 11C40 18.56 33.2 24.72 22.9 34.08L20 36.7Z",fill:"#FF3A00"})})})},j=function(){return Object(u.jsx)("div",{id:"NotLike",children:Object(u.jsx)("svg",{width:"40",height:"37",viewBox:"0 0 40 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"M29 0C25.52 0 22.18 1.62 20 4.18C17.82 1.62 14.48 0 11 0C4.84 0 0 4.84 0 11C0 18.56 6.8 24.72 17.1 34.08L20 36.7L22.9 34.06C33.2 24.72 40 18.56 40 11C40 4.84 35.16 0 29 0ZM20.2 31.1L20 31.3L19.8 31.1C10.28 22.48 4 16.78 4 11C4 7 7 4 11 4C14.08 4 17.08 5.98 18.14 8.72H21.88C22.92 5.98 25.92 4 29 4C33 4 36 7 36 11C36 16.78 29.72 22.48 20.2 31.1Z",fill:"#F24E1E"})})})},l=n(3),h=n.n(l),f=n(6),b={Accept:"application/json","Content-Type":"application/json","x-api-key":"b68096f3-1811-4c28-a51a-3218161b0532"},m=function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(f.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.thecatapi.com/v1/favourites",{method:"POST",headers:b,body:JSON.stringify({image_id:String(t.id),sub_id:"user-123"})});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={method:"DELETE",headers:b,redirect:"follow"},fetch("https://api.thecatapi.com/v1/favourites/".concat(t),n).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=(n(17),{method:"GET",headers:b});var g=function(e){var t=e.likesImage,n=Object(c.useState)(t),i=Object(o.a)(n,2),a=i[0];i[1];return Object(u.jsx)("div",{children:a<1?Object(u.jsx)("div",{className:"EmptyPage",style:{height:window.innerHeight-50,justifyItems:"center"},children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043b\u044e\u0431\u0438\u043c\u044b\u0445 \u043a\u043e\u0442\u0438\u043a\u043e\u0432 "}):Object(u.jsx)("div",{className:"Content",children:Object(u.jsx)("div",{className:"CardImage",children:t.map((function(e){return Object(u.jsxs)("div",{onClick:function(){return O(e.id)},children:[Object(u.jsx)("div",{className:"ImageBtn",children:a?Object(u.jsx)(d,{}):Object(u.jsx)(j,{})}),Object(u.jsx)("img",{src:e.image.url,alt:"cat",id:"Image"})]},e.id)}))})})})},v=function(e){var t=e.fecthImg,n=e.loading,i=Object(c.useState)(!1),a=Object(o.a)(i,2),r=a[0];a[1];return t?Object(u.jsxs)("div",{className:"Content",children:[Object(u.jsx)("div",{className:"CardImage",children:t.map((function(e){return Object(u.jsxs)("div",{className:"WrapperImage",onClick:function(){return m(e)},children:[Object(u.jsx)("div",{className:"ImageBtn",children:r?Object(u.jsx)(d,{onClick:function(){return m(e)}}):Object(u.jsx)(j,{})}),Object(u.jsx)("img",{src:e.url,alt:"cat",id:"Image"})]},e.id)}))}),Object(u.jsxs)("div",{className:"Loading",children:[" ",n?"... \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0435\u0449\u0435 \u043a\u043e\u0442\u0438\u043a\u043e\u0432 ... ":null]})]}):null},x=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),r=Object(o.a)(a,2),d=r[0],j=r[1],l=Object(c.useState)([]),h=Object(o.a)(l,2),f=h[0],b=h[1],m=Object(c.useState)(1),O=Object(o.a)(m,2),x=O[0],C=O[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),N=k[0],I=k[1];Object(c.useEffect)((function(){L(),window.addEventListener("scroll",(function(e){E(e)}))}),[x]);var L=function(){fetch("https://api.thecatapi.com/v1/images/search?limit=25&page=".concat(x,"&order=Desc"),p).then((function(e){return e.json()})).then((function(e){return j([].concat(Object(s.a)(d),Object(s.a)(e)))})),fetch("https://api.thecatapi.com/v1/favourites",p).then((function(e){return e.json()})).then((function(e){return b(e)}))},E=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&(C((function(e){return e+1})),I(!0))};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"Header",children:[Object(u.jsx)("div",{className:"Header_text",onClick:function(){i(!1)},children:"\u0412\u0441\u0435 \u043a\u043e\u0442\u0438\u043a\u0438"}),Object(u.jsx)("div",{className:"Header_text",onClick:function(){i(!0)},children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u043a\u043e\u0442\u0438\u043a\u0438"})]}),n?Object(u.jsx)(g,{likesImage:f}):Object(u.jsx)(v,{fecthImg:d,loading:N})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),C()}},[[18,1,2]]]);
//# sourceMappingURL=main.ddddaddf.chunk.js.map